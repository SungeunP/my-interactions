<!DOCTYPE html>
<head>
  <link href="css/index.css" rel="stylesheet">
  <link href="css/ps4_fadeinout/ps4_fadeinout.css" rel="stylesheet">
  <script src="js/ps4_fadeinout/ps4_fadeinout.js"></script>
</head>
<body>
  <div id="App">
    <div class="main-contents">
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam nec velit pulvinar, porta sapien vehicula, posuere felis. Etiam fringilla tortor non magna pulvinar, non faucibus lacus egestas. Donec ut rutrum urna, ut egestas sem. Vivamus pretium augue id est ultrices, et egestas massa vulputate. Fusce elementum, est ut luctus pharetra, eros mauris tristique risus, pharetra gravida leo velit vel erat. Cras eget ex auctor tortor sollicitudin interdum. Etiam luctus varius augue nec luctus. Nulla finibus vehicula mauris, at dignissim ligula viverra euismod. Etiam tempor sem nisi, venenatis malesuada tellus accumsan ac.</p>

      <p>Duis sapien lacus, tristique ac risus interdum, mattis bibendum ex. Nullam in magna rhoncus, mollis lectus ac, fringilla ante. Nam facilisis dictum ipsum, id convallis dolor semper vitae. Phasellus vestibulum magna sed ex dignissim, at interdum nunc semper. Etiam euismod lacus vel mi lobortis molestie. Nam mi sapien, lacinia id mauris ac, molestie accumsan enim. Mauris tincidunt elit ac ante hendrerit, vitae sollicitudin nulla placerat. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Quisque ac suscipit nunc. Donec quam neque, efficitur vel euismod a, pretium vehicula enim. Sed auctor vel erat quis viverra.</p>

      <p>Quisque condimentum bibendum dolor, tincidunt tincidunt purus condi mentum sagittis. Praesent eu dolor eros. Donec ligula nulla, pretium et erat sit amet, pharetra rhoncus mi. Nam quis quam ut risus consectetur fermentum. Curabitur pellentesque ligula ut elementum ultrices. Morbi commodo nisi ac ante imperdiet, vel blandit ligula elementum. Morbi quis molestie felis, eu pharetra elit. Vestibulum id elit et ipsum congue bibendum. Vestibulum fermentum dolor at dolor mollis, ut porttitor nisl consectetur.</p>

      <p>Sed volutpat pellentesque augue vel gravida. Nullam varius elit vitae odio blandit, vel feugiat nunc consectetur. In diam lectus, imperdiet at facilisis ac, ultrices sit amet lorem. Nunc sollicitudin sem mauris, eget dictum erat imperdiet ac. Nullam enim eros, venenatis vitae aliquam at, molestie faucibus leo. Duis sollicitudin nibh ut tincidunt dignissim. Phasellus odio ex, mattis nec urna in, tincidunt suscipit tortor. Sed aliquam ex nec posuere varius. Suspendisse potenti. Quisque gravida commodo erat, ac aliquam dolor accumsan vel. Nam ultrices velit a neque elementum, sed pellentesque lectus auctor. Morbi sapien lacus, mollis id velit a, sagittis varius ante. Nam mattis turpis id lacus tempor convallis.</p>

      <p>Maecenas id tortor dolor. Suspendisse consectetur nisl in est mollis, a ultrices dolor ullamcorper. Donec eget eros sapien. Integer rhoncus nisl sit amet libero ornare blandit. Donec urna lacus, pharetra sit amet eros id, mollis suscipit justo. Ut accumsan sem in nunc aliquet volutpat eget vitae lorem. Phasellus dignissim volutpat posuere. Mauris vitae mattis risus, ut tempus quam. Duis sit amet augue et purus condimentum viverra eu sit amet risus. Donec ac diam sit amet erat pulvinar aliquet in imperdiet mi. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Duis blandit dolor velit, quis porttitor libero iaculis ut. Donec ut mi sapien. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>
      <ul id="PS4_Controller">
        <li>
          <button> show </button>
        </li>
        <li>
          <button> init </button>
        </li>
      </ul>
    </div>
    <div id="PS4_Overlay" class="ps4-overlay">
      <div class="top">
        <p class="title">저장</p>
      </div>
      <div class="body">
        <p class="description"> 저장 하시겠습니까? </p>
        <div class="controller">
          <button class="yes selected"> 예 </button>
          <button class="no"> 아니오 </button>
        </div>
      </div>
      <div class="bottom">

      </div>
    </div>
  </div>
  <script>
    const ps4Controller = document.getElementById('PS4_Controller')
    const _ps4Overlay = document.getElementById('PS4_Overlay')
    // Add eventlistener to overlay bakcground
    _ps4Overlay.addEventListener('click', (e) => {
      ps4FadeOut()
    })

    const controlButtons = ps4Controller.getElementsByTagName("button")
    if (controlButtons) {
      [...controlButtons].forEach((ctlBtn, ctlBtnIdx) => {
        switch(ctlBtnIdx) {
          case 0:
            ctlBtn.addEventListener('click', (e) => {
              ps4FadeIn()
            })
            break;
          case 1:
            ctlBtn.addEventListener('click', (e) => {
              if (!classList.contains('init')) {
                classList.remove('init')
              }
            })
            break;
          default:
            console.error('Eventlistener not defined for index ', ctlBtnIdx)
        }
      })
    }
  </script>
</body>